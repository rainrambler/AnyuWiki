- *Relocation* *Read-Only*
-
- **Redhat:**
- Linux 使用可执行和可链接格式 ([[ELF]]) 作为可执行文件（二进制文件）、目标代码、共享库甚至核心转储的通用标准。 ELF 是灵活的、可扩展的和跨平台的。
- 加固 ELF 二进制文件的一种机制是使用位置独立可执行文件 ([[PIE]])，它是加固包构建过程的输出。每次执行应用程序时，PIE 二进制文件及其所有依赖项都会加载到虚拟内存中的随机位置。 这使得面向返回的编程 ([[ROP]]) 攻击更加难以可靠地执行。
- 在 Linux 中还有其他几种用于加固ELF 二进制文件的技术。如 Relocation Read-Only (RELRO) Red Hat Enterprise Linux 版本 7（在支持 RELRO 的架构上）上的选定网络守护程序和 suid-root 程序是在 RELRO 支持下构建的。 Fedora 23 及更高版本附带的所有 ELF 二进制文件均在构建时完全支持 RELRO。
- 动态链接的 ELF 二进制文件使用称为全局偏移表 (Global Offset Table, GOT) 的查找表来动态解析位于共享库中的函数。 此类调用指向过程链接表 ([[PLT]])，该表位于二进制文件的 .plt 部分中。 .plt 部分包含直接指向位于 .got.plt 部分中的 GOT 的 x86 指令。 GOT 通常包含指向这些函数在内存中共享库中的实际位置的指针。
- GOT 在程序运行时动态填充。第一次调用共享函数时，GOT 包含一个指向 PLT 的指针，其中调用动态链接器以查找相关函数的实际位置。然后将找到的位置写入 GOT。第二次调用函数时，GOT 包含函数的已知位置。这称为“惰性绑定”。这是因为共享函数的位置不太可能发生变化，并且它也节省了一些 CPU 周期。
- 由于 GOT 存在于内存中的预定义位置，因此包含漏洞的程序允许攻击者在内存中的受控位置写入 4 个字节（例如导致越界写入的某些整数溢出），可能会被利用以允许任意代码执行。
- 为了防止上述安全漏洞，我们需要确保链接器在执行开始时解析所有动态链接的函数，然后将 GOT 设为只读。这种技术称为 RELRO，可确保 GOT 不会在易受攻击的 ELF 二进制文件中被覆盖。
- https://www.redhat.com/en/blog/hardening-elf-binaries-using-relocation-read-only-relro
-